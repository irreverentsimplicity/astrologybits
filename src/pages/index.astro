---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getAllPages } from '../lib/wordpress';

const pages = await getAllPages();

// Find homepage
const homepage = pages.find(p => p.slug === 'home') 
               || pages.find(p => p.uri === '/') 
               || pages[0];

if (!homepage) {
  throw new Error('Could not find homepage!');
}
---

<BaseLayout page={homepage}>
  <div class="wp-content" set:html={homepage.content} />
</BaseLayout>